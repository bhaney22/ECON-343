---
title: "Econ 343 Ch 1 HW KEY"
output:
  html_document:
    df_print: paged
  pdf_document: default
  word_document: default
---

```{r setup, include=FALSE}
#
# ===>> SETUP - this r-chunk does not usually need to be changed by the student.
#
# The following packages cover all of the commands that will be used in this class,
# as well as the files from the Wooldridge textbook.
# 
# For any assignment, you simply start by making a copy of this file and add the R chunks and
# text as needed below this setup chunk. 
#
# Note that these packages have been carefully selected to create a toolkit that is ideally
# suited for economic and business analysis. You might find it useful to keep this template and
# set of packages for future data analysis projects.
#
library(readr)      # for reading in .csv files
library(tidyverse)  # data wrangling
library(dplyr)      # for filter and select commands. etc.
library(wooldridge) # datasets in the textbook
library(stats)      # basic statistic commands
library(DataExplorer) # nice commands to learn about a new data set
library(stargazer)  # nice regression output
library(ggformula)  # easy graphing interface for ggplot
library(mosaic)     # accompanies ggformula
library(expss)      # apply_labels() cro()
library(AER)        # data and commands specific to econometrics
library(car)        # for linearhypothesis tests lht(), predict() hccm() heterosced.
library(lmtest)     # post-reg tests coeftest()
library(effects)    # to plot effects of one regressor, holding all others constant
library(visualize)  # to visualize hypothesis test p-values
library(dynlm)      # lm commands for time series data
library(plm)        # lm commands for panel data

options(digits=4)   # limits number of decimals to 4 when printing
knitr::opts_chunk$set(echo = TRUE) # TRUE = commands in r chunks to be echoed in outfile
```
# Ch 01 Computer Assignment #C1.3
## Using R for your first computer homework assignment.
### Commands used in this problem:
- max()
- min()
- filter()
- as_tibble()
- as.numeric()
- count()
- mean()
- sd()
- cor()
- using R as a calculator
```{r}
#Load the meap01_v5 data manually since it is not in the wooldridge package
load("~/20SU ECON 343/Homework/meap01_v5.RData")
mydata <- Data
as_tibble(mydata)
```

```{r}
## Part (i)
min_math4 <- min(mydata$math4)
max_math4 <- max(mydata$math4)
```
The lowest *math4* passing rate is **`r min_math4`**. The highest is **`r max_math4`**.

```{r}
## Part (ii)
# How many have perfect math4 scores?
mydata.perfectmath <- filter(mydata,math4==100)
n_perfectmath <- as.numeric(count(mydata.perfectmath))
# What percent of total number of schools have perfect mathscores?
n_total <- as.numeric(count(mydata))
pctperfectmath <- 100* (n_perfectmath/n_total)
```
The number of schools with a perfect pass rate on the math test is
**`r n_perfectmath`**, which is **`r pctperfectmath`** of the total.

```{r}
## Part (iii)
# How many have math4 exactly 50?
mydata.exact50math <- filter(mydata,math4==50)
n_exact50math <- as.numeric(count(mydata.exact50math))
# Hm. Out of curiosity, I wonder why they asked that. Do more than 
# an expected number of schools have exactly a 50% pass rate?
pctexact50math <- 100 * (n_exact50math  /n_total)  
```
The number of schools with a perfect pass rate on the math test is
**`r n_exact50math`**, which is **`r pctexact50math`** of the total.
```{r}
## Part (iv)
avg_math4 <- mean(mydata$math4)
avg_read4 <- mean(mydata$read4)
```
The average pass rate for all Michigan schools is **`r avg_math4`** for Math and
**`r avg_read4`** for reading.
```{r}
## Part (v)
corr_math_and_read <- cor(mydata$math4,mydata$read4)
```
The correlation between math and reading pass rates is high, **`r corr_math_and_read`**.
```{r}
## Part (vi)
avg_exppp <- mean(mydata$exppp)
sd_exppp  <- sd(mydata$exppp)
cov_exppp <- sd_exppp/avg_exppp    # using R as a calculator
```
The coefficient of variation in per pupil expenditures is low, **`r cov_exppp`**. In other words, there is not a lot of variation
among the schools in how much they spend per pupil. *Bonus question:
Why might this be of interest?*
```{r}
## Part (vii)
ApctmorethanB_exppp <- 100 * (6500 - 4000) / (4000)
ApctmorethanB_exppp_logapprox <- 100 * (log(6500) - log(4000))
```
It matters how the differences in school expenditures are calculated. Using
the percent difference formual $100 * \frac{A - B}{B}$ yields **`r ApctmorethanB_exppp`**. Using the difference in logs approximation
yields **`r ApctmorethanB_exppp_logapprox`**.
